<svg xmlns="http://www.w3.org/2000/svg" width="1027.5" height="516">
<defs><marker id="arrow-filled" refX="6" refY="3" markerWidth="6" markerHeight="6" orient="auto"><path d="M0,0 6,3 0,6z" style="stroke: none; fill: black;"></path></marker><marker id="arrow-open" refX="6" refY="3" markerWidth="6" markerHeight="6" orient="auto"><path d="M0,0 6,3 0,6" style="stroke-width: 1; fill: none; stroke: black;"></path></marker></defs><rect width="45.5" height="38" style="stroke-width: 1; fill: none; stroke: black;" x="10" y="20"></rect><g><text fill="black" font-family="Helvetica,sans-Serif" x="32.75" y="39" style="text-anchor: middle; alignment-baseline: central;">App</text></g><rect width="45.5" height="38" style="stroke-width: 1; fill: none; stroke: black;" x="10" y="458"></rect><g><text fill="black" font-family="Helvetica,sans-Serif" x="32.75" y="477" style="text-anchor: middle; alignment-baseline: central;">App</text></g><path d="M32.75,58 v400" style="stroke-width: 1; fill: none; stroke: black;"></path><rect width="147.5" height="38" style="stroke-width: 1; fill: none; stroke: black;" x="347.5" y="20"></rect><g><text fill="black" font-family="Helvetica,sans-Serif" x="421.25" y="39" style="text-anchor: middle; alignment-baseline: central;">MessagerService</text></g><rect width="147.5" height="38" style="stroke-width: 1; fill: none; stroke: black;" x="347.5" y="458"></rect><g><text fill="black" font-family="Helvetica,sans-Serif" x="421.25" y="477" style="text-anchor: middle; alignment-baseline: central;">MessagerService</text></g><path d="M421.25,58 v400" style="stroke-width: 1; fill: none; stroke: black;"></path><rect width="105" height="38" style="stroke-width: 1; fill: none; stroke: black;" x="515" y="20"></rect><g><text fill="black" font-family="Helvetica,sans-Serif" x="567.5" y="39" style="text-anchor: middle; alignment-baseline: central;">NodeEvents</text></g><rect width="105" height="38" style="stroke-width: 1; fill: none; stroke: black;" x="515" y="458"></rect><g><text fill="black" font-family="Helvetica,sans-Serif" x="567.5" y="477" style="text-anchor: middle; alignment-baseline: central;">NodeEvents</text></g><path d="M567.5,58 v400" style="stroke-width: 1; fill: none; stroke: black;"></path><rect width="139" height="38" style="stroke-width: 1; fill: none; stroke: black;" x="716.5" y="20"></rect><g><text fill="black" font-family="Helvetica,sans-Serif" x="786" y="39" style="text-anchor: middle; alignment-baseline: central;">MessageService</text></g><rect width="139" height="38" style="stroke-width: 1; fill: none; stroke: black;" x="716.5" y="458"></rect><g><text fill="black" font-family="Helvetica,sans-Serif" x="786" y="477" style="text-anchor: middle; alignment-baseline: central;">MessageService</text></g><path d="M786,58 v400" style="stroke-width: 1; fill: none; stroke: black;"></path><rect width="122" height="38" style="stroke-width: 1; fill: none; stroke: black;" x="875.5" y="20"></rect><g><text fill="black" font-family="Helvetica,sans-Serif" x="936.5" y="39" style="text-anchor: middle; alignment-baseline: central;">Venus-Sealer</text></g><rect width="122" height="38" style="stroke-width: 1; fill: none; stroke: black;" x="875.5" y="458"></rect><g><text fill="black" font-family="Helvetica,sans-Serif" x="936.5" y="477" style="text-anchor: middle; alignment-baseline: central;">Venus-Sealer</text></g><path d="M936.5,58 v400" style="stroke-width: 1; fill: none; stroke: black;"></path><g><text fill="black" font-family="Helvetica,sans-Serif" x="138.5" y="87" style="text-anchor: middle; alignment-baseline: central;">cfg.JWT=genSecret()</text></g><path d="M32.75,73 C72.75,73 72.75,106 32.75,106" style="stroke-width: 1; fill: none; stroke: black;" marker-end="url(#arrow-filled)"></path><g><text fill="black" font-family="Helvetica,sans-Serif" x="202.25" y="125" style="text-anchor: middle; alignment-baseline: central;">fx.Invoke(service.StartNodeEvents)</text></g><path d="M32.75,111 C72.75,111 72.75,144 32.75,144" style="stroke-width: 1; fill: none; stroke: black;" marker-end="url(#arrow-filled)"></path><g><text fill="black" font-family="Helvetica,sans-Serif" x="227" y="159" style="text-anchor: middle; alignment-baseline: central;">StartPushMessage</text></g><path d="M32.75,172 h388.5" style="stroke-width: 1; fill: none; stroke: black;" marker-end="url(#arrow-filled)"></path><g><text fill="black" font-family="Helvetica,sans-Serif" x="300.125" y="197" style="text-anchor: middle; alignment-baseline: central;">listenHeadChangesOnce</text></g><path d="M32.75,210 h534.75" style="stroke-width: 1; fill: none; stroke: black;" marker-end="url(#arrow-filled)"></path><g><text fill="black" font-family="Helvetica,sans-Serif" x="300.125" y="235" style="text-anchor: middle; alignment-baseline: central;">start</text></g><path d="M32.75,248 h534.75" style="stroke-width: 1; fill: none; stroke: black;" marker-end="url(#arrow-filled)"></path><g><text fill="black" font-family="Helvetica,sans-Serif" x="681.75" y="277" style="text-anchor: middle; alignment-baseline: central;">listenHeadChangesOnce</text></g><path d="M567.5,263 C607.5,263 607.5,296 567.5,296" style="stroke-width: 1; fill: none; stroke: black;" marker-end="url(#arrow-filled)"></path><g><text fill="black" font-family="Helvetica,sans-Serif" x="189.5" y="315" style="text-anchor: middle; alignment-baseline: central;">fx.Invoke(fx.Invoke(api.RunAPI)</text></g><path d="M32.75,301 C72.75,301 72.75,334 32.75,334" style="stroke-width: 1; fill: none; stroke: black;" marker-end="url(#arrow-filled)"></path><g><text fill="black" font-family="Helvetica,sans-Serif" x="232" y="353" style="text-anchor: middle; alignment-baseline: central;">gatewayProvider=gateway.NewWalletClient()</text></g><path d="M32.75,339 C72.75,339 72.75,372 32.75,372" style="stroke-width: 1; fill: none; stroke: black;" marker-end="url(#arrow-filled)"></path><g><text fill="black" font-family="Helvetica,sans-Serif" x="603.625" y="387" style="text-anchor: middle; alignment-baseline: central;">refresh</text></g><path d="M421.25,400 h364.75" style="stroke-width: 1; fill: none; stroke: black;" marker-end="url(#arrow-filled)"></path><g><text fill="black" font-family="Helvetica,sans-Serif" x="861.25" y="425" style="text-anchor: middle; alignment-baseline: central;">PushMessage</text></g><path d="M936.5,438 h-150.5" style="stroke-width: 1; fill: none; stroke: black;" marker-end="url(#arrow-filled)"></path></svg>